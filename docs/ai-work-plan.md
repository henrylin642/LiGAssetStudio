# Studio AI 功能工作列表

## 1. 對話需求收集與思路整理
- [ ] 建立「活動啟動」對話腳本，引導老師提供活動主題、目標年級、人數、空間尺寸、使用的 AR/VR 設備與限制。H
- [ ] 在 `SYSTEM_PROMPT` 中加入 Studio 的定位與語氣，確保 Gemini 理解「協助老師規劃活動與素材」的角色。
- [ ] 對話紀錄結構化：整理成 JSON（活動資訊、學習目標、場景限制），以便後續流程共用。
- [ ] 允許老師在討論過程中隨時修正條件，並自動更新結構化設定。

## 2. 活動規劃輸出
- [ ] 根據空間資訊讓 AI 建議活動流程、區域配置，以及必要的素材類型（角色、道具、背景、音效、腳本）。
- [ ] 生成「敘事腳本」與「場景清單」，並以可追蹤的 ID 存入資料庫。
- [ ] 提供活動摘要與可下載/複製的教案格式（Markdown 或 PDF）。

## 3. 素材工作列表化
- [ ] 把 AI 建議的素材轉成工作項目（含描述、需求、顏色/風格、優先順序）。
- [ ] 建立工作板 UI：顯示每個素材的狀態（待生產、已產出、需修改）。
- [ ] 為每個工作項目建立對話上下文，方便老師與 AI 深入討論單一素材。
- [ ] 支援將 AI 建議直接送往生成 API（圖片、TTS、背景移除等），並回寫結果與預覽。

## 4. 素材生成與版本控管
- [ ] 集成現有 `/api/gen/*` 端點，提供對話中直接呼叫的按鈕或建議。
- [ ] 每次生成需記錄 prompt、參數、輸出與使用者備註，提供版本比較與回滾。
- [ ] 允許老師針對生成結果進行打分或評論，回饋給下一輪 prompt。

## 5. 空間擺放與佈局編輯
- [ ] 開發平面拖拉式場景編輯器，可導入對話過程產出的素材。
- [ ] 支援「按活動腳本」自動排版，老師可再微調位置、大小、層級。
- [ ] 提供多種場景模板（教室、中庭、戶外等），並套用上一步的空間資訊。
- [ ] 佈局結果需能輸出為 JSON，供 AR/VR 播放端或引擎載入。

## 6. 系統整合與權限
- [ ] 將活動、素材、佈局等資料與現有帳號/工作流程 API 整合，支援多人協作與權限控管。
- [ ] 建立活動的版本管理與發佈流程（草稿 → 審核 → 發佈）。
- [ ] 針對學校/老師帳號，提供活動複製或匯入匯出能力，方便重複使用。

## 7. 可用性與追蹤
- [ ] 導入教學式 Onboarding，指引老師如何使用對話、生成與佈局功能。
- [ ] 加入使用遙測（事件/流程完成率）以了解哪一步卡住老師。
- [ ] 建立錯誤回報與客服入口，讓老師可直接從頁面留言或請求協助。
